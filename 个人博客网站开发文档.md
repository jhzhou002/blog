# **个人博客网站开发文档**

## 1. 项目概述

本项目是一个基于 **Bootstrap + Django + MySQL** 的响应式个人博客系统，支持 PC 与移动端访问。
 系统分为前台（博客展示、评论互动）与后台（文章管理、评论管理、分类标签管理、系统设置）两大部分。
 作者即管理员，拥有全部发布与管理权限。

------

## 2. 技术栈说明

- **前端**：Bootstrap 5（响应式布局、组件样式）
- **后端**：Django 4.x（MVC 框架）
- **数据库**：MySQL 8.x
- **部署环境**：Nginx + Gunicorn/Uwsgi + Docker（可选）
- **其他依赖**：
  - Pillow（图片上传）
  - Django ORM（数据库操作）
  - Django Authentication（用户认证）

------

## 3. 功能需求

### 3.1 前台功能

1. **首页**
   - 顶部导航栏（首页、分类、标签、关于、搜索框）
   - 轮播图（圆角矩形，左右留白）
   - 博客列表（每行一篇，左图右文卡片，标题+概述+阅读/点赞/收藏/评论统计）
   - 右侧栏（最近文章、推荐阅读卡片）
2. **文章详情页**
   - 标题、发布时间、阅读数、点赞、收藏、评论数
   - 正文（支持图片、代码高亮）
   - 评论区（登录用户可评论，游客可浏览）
3. **分类、标签页**
   - 按分类或标签筛选文章
4. **搜索功能**
   - 支持全文搜索（title/概述/正文）
5. **用户登录注册**
   - 邮箱 + 密码注册（可选验证码）
   - 登录（Django Session 认证）
   - 登录后可评论、点赞、收藏文章
6. **个人中心（可选）**
   - 查看个人信息、修改密码

------

### 3.2 后台管理（作者即管理员）

- **文章管理**
  - 新增、编辑、删除文章
  - 支持 Markdown/富文本编辑
  - 上传封面图
- **分类与标签管理**
  - 添加、修改、删除
- **评论管理**
  - 查看、删除不当评论
- **系统设置**
  - 修改站点名称、轮播图内容、关于页内容
- **数据统计**
  - 阅读量、点赞数、收藏数统计图表

------

## 4. 数据库设计（MySQL）

### 4.1 数据表

#### `User` 用户表（Django 自带 User 扩展）

| 字段名      | 类型         | 说明       |
| ----------- | ------------ | ---------- |
| id          | int PK       | 用户 ID    |
| username    | varchar(50)  | 用户名     |
| email       | varchar(100) | 邮箱       |
| password    | varchar(255) | 密码哈希   |
| is_admin    | bool         | 是否管理员 |
| date_joined | datetime     | 注册时间   |

#### `Category` 分类表

| id   | name | 创建时间 | 更新时间 |
| ---- | ---- | -------- | -------- |
|      |      |          |          |

#### `Tag` 标签表

| id  | name          | 创建时间 | 更新时间 |

#### `Post` 文章表

| id  | title         | cover_url | summary | content | category_id | created_at | updated_at | views | likes | favorites |

#### `PostTag` 文章-标签中间表

| id  | post_id | tag_id |

#### `Comment` 评论表

| id  | post_id | user_id | content | created_at |

------

## 5. 页面结构说明

- **公共布局**：
  - 导航栏（`base.html`）
  - 页脚（固定底部）
- **首页模板**（`index.html`）
  - 轮播图（圆角矩形）
  - 左侧博客列表（分页，每页 5 篇）
  - 右侧栏（最近阅读、推荐阅读卡片）
- **文章详情页**（`post_detail.html`）
  - 标题 + 文章信息
  - 正文
  - 评论区
- **登录注册页**（`login.html`, `register.html`）
- **后台管理页**（`admin_dashboard.html` 等）

------

## 6. 接口设计（Django URL + View）

示例：

```python
# 前台
path('', views.index, name='index')
path('post/<int:id>/', views.post_detail, name='post_detail')
path('category/<int:id>/', views.category_posts, name='category_posts')
path('tag/<int:id>/', views.tag_posts, name='tag_posts')
path('search/', views.search, name='search')

# 用户
path('login/', views.login_view, name='login')
path('register/', views.register, name='register')
path('logout/', views.logout_view, name='logout')

# 后台
path('admin/dashboard/', views.admin_dashboard, name='admin_dashboard')
path('admin/post/add/', views.post_add, name='post_add')
path('admin/post/edit/<int:id>/', views.post_edit, name='post_edit')
path('admin/post/delete/<int:id>/', views.post_delete, name='post_delete')
```



------

## 8. 权限说明

- 系统只有一个管理员（作者）
- 普通用户仅能评论、点赞、收藏
- 管理员可管理全部内容

------

## 9. 后续可扩展功能

- 文章浏览历史记录
- 评论回复与 @ 功能
- API 接口（供移动端 App 使用）
- 富文本编辑器支持插入视频



补充说明：

数据库配置：

```
host:101.35.218.174
username:tongyong
pwd:zhjh0704
database:blog
```

对象存储使用七牛云，七牛云配置：

```
AK：nfxmZVGEHjkd8Rsn44S-JSynTBUUguTScil9dDvC
SK：9lZjiRtRLL0U_MuYkcUZBAL16TlIJ8_dDSbTqqU2
空间名称：youxuan-images
存储文件夹：blog-yk（文章图片存到该文件夹下的images文件夹下，头像存到avatar文件夹下）
存储区域：华东-浙江
注意：存储的图片要进行重命名后存储，以合适的规则进行命名
```

